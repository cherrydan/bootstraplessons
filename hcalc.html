<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Ипотечный калькулятор на JS</title>
  <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
    body
    {
      margin-top: 70px;
      background-color: green;
      color: white;
    }


    .card-block {
      padding: 10px;
    }

    .center {
      text-align: center;
    }

    </style>
</head>
<body>
 <div class="container">
   <div class="row">
     <div class="col-md-6 offset-md-3">
       <h1 class="display-3 text-center mb-3">Ипотечный калькулятор</h1>
       <form>
         <div class="form-group">
           <input type="number" id="krSum" placeholder="Введите сумму кредита..."
           class="form-control form-control-lg">
           <input type="number" id="krSrok" placeholder="Введите срок кредита...(в месяцах)"
           class="form-control form-control-lg">
           <input type="number" step="any" id="krProc" placeholder="Введите процент кредита..."
           class="form-control form-control-lg">
           <br><br>
           <div class="center">
             <button type="submit" class="btn btn-primary" id="btnCalc">Расчитать</button>
           </div>

         </div>
       </form>


     </div>
   </div>
 </div>


<script>

function hcalc(sum, period, rate) {

  var i,
  koef, result;

  i = rate / 1200;

  koef = (i * (Math.pow(1 + i, period))) / (Math.pow(1 + i, period) - 1);

  result = koef * sum;
  return result;


  }

function onClick() {
  var proc = parseFloat(document.getElementById("krProc").value);
  if (proc == 0) {
    alert('Процент по кредиту не может быть равен 0!');
  }
  else {
  var summa = parseInt(document.getElementById("krSum").value);
  var srok = parseInt(document.getElementById("krSrok").value);
  var platezhRes = hcalc(summa, srok, proc).toFixed(2);
  var resStr = String(platezhRes + " руб. ");
  var pereplata = (platezhRes * srok) - summa;


  alert("Ежемесячный платёж: " + resStr);

  alert("Переплата за весь срок: " + String(pereplata.toFixed(2)) + " руб.");



}

}

document.getElementById("btnCalc").onclick = onClick;



</script>

</body>
</html>
